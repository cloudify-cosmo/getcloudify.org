<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>	
	<title>Cloudify - Cloud integration and DevOps automation experience shared</title>
	<script src="//cdn.optimizely.com/js/59503762.js"></script>
	<link rel="stylesheet" href="/css/template.css" type="text/css"/>	
	<link rel="canonical" href="http://www.cloudifysource.org/2012/05/13/cloud_integration_and_devops_automation.html"/>	
	<link rel="stylesheet" href="/css/jquery-ui-1.8.17.custom.css" type="text/css" media="all"/>
	<link rel="stylesheet" type="text/css" href="/scripts/prettify/prettify.css">	
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
	<script type="text/javascript" src="/scripts/jquery-1.6.4.js"></script>
	<script type="text/javascript" src="/scripts/search.js"></script>
	<script type="text/javascript" src="/scripts/jquery-ui-1.8.17.custom.min.js"></script>
	<script type="text/javascript" src="/scripts/jquery.prettyPhoto.js"></script>
	<script type="text/javascript" src="/scripts/prettify/prettify.js"></script>
	<script type="text/javascript" src="/scripts/version.data.js"></script>
	<script type="text/javascript" src="/scripts/version.js"></script>
	<script type="text/javascript">
	window.onload = function () {
		$('body').addClass("bodyClass");	
 	}
	
	$(function(){ 
		$("a.youtube").YouTubePopup({ hideTitleBar: true });
		$("div.expand").hide();
		
		
		$("li.expandBtn").click(function(){	
			$(this).next("div.expand").slideToggle(500);
			if($(this).html()=="More..."){
				$(this).html("Less...");	
			}else{
				$(this).html("More...");
			}
		});
		
	   /* ------------- added by Yaron/modified by Shlomo ------------ */
		$("#closeBut").parent().hide();
		$("#required").prev().hide();
		$("#required").hide();
		$("#required").next().hide();
		$("#values").hide();
		$("span.pln, span.kwd").css("cursor","pointer");
		$("span.pln, span.kwd").hover(function(eventObject){
			$(this).css("background-color","#CECECE");
			var currKey = $(eventObject.currentTarget).text().trim();
			if (currKey == "name") {
				var prevKey = $(eventObject.currentTarget).prev().prev("span.pln").text().trim();
					currKey = prevKey + "_" + currKey;
			}
			if (messages[currKey]) {
				var tooltip = $(".overlay"),
					position = $(eventObject.currentTarget).offset();
				$("#desc",tooltip).text(messages[currKey]);
				tooltip.show().offset({ top: position.top + tooltip.scrollTop() - 50, left: position.left + 100});
				$("#tipImg").position();
			}}, function(){
				$(".overlay").offset({top:0,left:0}).hide();
				$(this).css("background-color","transparent");
		});
	});
	
	</script>
	
		
	
	<script type="text/javascript" src="/scripts/cloudify_default.js"></script>
	<script type="text/javascript">

   var _gaq = _gaq || [];
   _gaq.push(['_setAccount', 'UA-31930048-1']);
   _gaq.push(['_trackPageview']);

   (function() {
	   var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	   ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	   var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
   })();

</script>
	<script type="text/javascript">
 var _gauges = _gauges || [];
(function() {
		var t   = document.createElement('script');
		t.type  = 'text/javascript';
		t.async = true;
		t.id    = 'gauges-tracker';
		t.setAttribute('data-site-id', '4fd5058b613f5d712200004f');
		t.src = '//secure.gaug.es/track.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(t, s);
})();
</script> 
</head>
<body>
<a class="fork-guide" target="_blank" href="https://github.com/CloudifySource/cloudify"></a>
<div class="WrapperBg">    
    <div class="Wrapper">
        <div class="header">
    <a class="logo" href="/"></a>
    <div class="clear"></div>
            <div class="topMenu">
                <ul class="_topmenu">
                    <li class="topmenuli"><a class="bgMenu1" href="http://forums.cloudifysource.org/forums"><span class="title1">Discuss & Suggest</span><span class="title2">Support Forums</span></a></li>
                    <li class="sep"></li>
                    <li class="topmenuli"><a class="bgMenu2" href="/guide/qsg/quick_start_guide"><span class="title1">Learn</span><span class="title2">Knowledge Base</span></a></li>
                    <li class="sep"></li>
                    <li class="topmenuli"><a class="bgMenu3" href="/participate"><span class="title1">Participate</span><span class="title2">Events & Webinars</span></a></li>
                    <li class="sep"></li>
                    <li class="topmenuli"><a class="bgMenu4" href="/blog"><span class="title1">Read</span><span class="title2">Blog Posts & Updates</span></a></li>
                    <li class="sep"></li>
                    <li class="topmenuli"><a class="bgMenu5" href="/cloudifysourcetv"><span class="title1">Watch</span><span class="title2">Watch & Learn</span></a></li>
                    <li class="sep"></li>
                    <li class="topmenuli"><a class="bgMenu6" href="/guide/contribute/how_to"><span class="title1">Develop</span><span class="title2">Get Involved</span></a></li>

		</ul>
		<div class="clear"></div>
	</div>
</div>

<!-- Tooltip Container -->
<div class="overlay">
<div class="overlayFrame">
<div style="width:100%;height:25px;align:left;"><img src="/images/close.png" id="closeBut"/></div>
<div><span id="desc"></span><br/>
 <span id="required"></span><br/>
 <span id="values"></span>
 </div>
</div>
<img src="/images/box_edge.png" id="tipImg"/>  
</div>
<div class="clear"></div>
        <div class="contentWrap">            
			<div class="breadcrumbs">Home Page > Cloudify Blogs > Cloud integration and DevOps automation experience shared</div>
            <div class="clear"></div>

            <!--Search-->
			
            
 

<div class="learnFrom">
    <h2>Blog Posts and Updates</h2>

    <div class="searchWrap">
        <form id="searchForm" action="#" method="get">
            <input id="search" class="searchTxt" type="text" placeholder="Search..."/>
            <input id="goBtn" class="searchBtn" type="submit" value="Go"/>
        </form>
    </div>
</div>
 
<div class="hp-right-col">
 		<a class="hp-btn-getCloudify" href="/downloads/get_cloudify">Get Cloudify!</a>
</div>




			
            <div class="content">
                <div id="alTag_LeftBlog" class="left">
                    
                    <!--Event groups-->



<div class="leftContentBox blogLeft-topTitle">
	<h3>Recent Posts</h3>
</div>


<div class="leftContentBox blogLeftBox"> 
   
	<a href="/2012/07/19/automate_your_legacy_application_on_the_cloud.html">Automate Your Application on the Cloud 
	 <img class="noMargin" src="/images/arrow-right-blue.png" /></a><br />
	<span class="date">July 19, 2012</span>  
	<br/><br/>
  
	<a href="/2012/07/10/hi_cloudsters.html">What Kept Us Busy - A Cloudify Update 
	 <img class="noMargin" src="/images/arrow-right-blue.png" /></a><br />
	<span class="date">July 10, 2012</span>  
	<br/><br/>
  
	<a href="/2012/07/09/whats_cool_in_cloudify_2_1_1.html">What's Cool in Cloudify 2.1.1 
	 <img class="noMargin" src="/images/arrow-right-blue.png" /></a><br />
	<span class="date">July  9, 2012</span>  
	<br/><br/>
		
</div>

               <!--start -->
                 <div class="leftContentBox blogLeft-topTitle blog-left-title2 tumblr">
                        <h3>CloudifySource on Tumblr</h3>
                 </div>   
                <div class="leftContentBox">                     
                <!-- start sw-rss-feed code --> 
                <script type="text/javascript"> 
                <!-- 
                rssfeed_url = new Array(); 
                rssfeed_url[0]="http://cloudifysource.tumblr.com/rss";  
                rssfeed_frame_width="230"; 
                rssfeed_frame_height="250"; 
                rssfeed_scroll="on"; 
                rssfeed_scroll_step="6"; 
                rssfeed_scroll_bar="off"; 
                rssfeed_target="_blank"; 
                rssfeed_font_size="11"; 
                rssfeed_font_face="Trebuchet MS,Helvetica,Arial,Sans-serif"; 
                rssfeed_border="off"; 
                rssfeed_css_url=""; 
                rssfeed_title="off"; 
                rssfeed_title_name=""; 
                rssfeed_title_bgcolor="#393939"; 
                rssfeed_title_color="#393939"; 
                rssfeed_title_bgimage="http://"; 
                rssfeed_footer="off"; 
                rssfeed_footer_name="rss feed"; 
                rssfeed_footer_bgcolor="#fff"; 
                rssfeed_footer_color="#333"; 
                rssfeed_footer_bgimage="http://"; 
                rssfeed_item_title_length="50"; 
                rssfeed_item_title_color="#246F96"; 
                rssfeed_item_bgcolor="#none"; 
                rssfeed_item_bgimage="http://"; 
                rssfeed_item_border_bottom="on"; 
                rssfeed_item_source_icon="off"; 
                rssfeed_item_date="off"; 
                rssfeed_item_description="on"; 
                rssfeed_item_description_length="120"; 
                rssfeed_item_description_color="#393939"; 
                rssfeed_item_description_link_color="#333"; 
                rssfeed_item_description_tag="off"; 
                rssfeed_no_items="0"; 
                rssfeed_cache = "f2f79ba4f12501d5f8454c1d22c042c4"; 
                //--> 
                </script> 
                <script type="text/javascript" src="http://feed.surfing-waves.com/js/rss-feed.js"></script> 
                <!-- end sw-rss-feed code -->
                </div>
<!--end-->


<div class="leftContentBox blogLeft-topTitle">
	<h3>Archived Posts</h3>
</div>

 <ul class="blog-archive-list">
 
 
	
	
	
	
	
	

	
<li><a href="/2012/07">July 2012</a> <span class="blue">(4)</span></li>

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2012/06">June 2012</a> <span class="blue">(3)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2012/05">May 2012</a> <span class="blue">(5)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2012/03">March 2012</a> <span class="blue">(3)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2012/02">February 2012</a> <span class="blue">(1)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2012/01">January 2012</a> <span class="blue">(2)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
		
	

	
	
	
	
	
	

	

	
		

<li><a href="/2011/11">November 2011</a> <span class="blue">(1)</span></li>

		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2011/10">October 2011</a> <span class="blue">(1)</span></li>

			
		
	

	
	
	
	
	
	

	

	
		
			
<li><a href="/2011/09">September 2011</a> <span class="blue">(1)</span></li>

			
		
	

	
	
	
	
	
	

	

	

	





 
 </ul>

                </div>

                <!--Start left content -->

                <div id="resultsDiv" class="DocumentsWrap"></div>
                <div id="pageContent" class="DocumentsWrapRight">
                    <h1 class="pageTitle">Cloud integration and DevOps automation experience shared</h1>
					 
					  <span class="blogPostInfo">Posted By: <a href="#">Dotan Horovits</a>  on May 13, 2012  
					  </span>
					  <br/><br/><br/>
					 
                    <div class="post-117 post type-post status-publish format-standard hentry category-cloud category-devops category-iaas category-paas tag-apache tag-cloudify tag-ec2 tag-jclouds tag-jersey tag-jsch tag-openstack tag-rackspace tag-rest tag-vfs" id="post-117">
<p><h1 class="entry-title">Cloud integration and DevOps automation experience&nbsp;shared</h1></p>
<div class="entry entry-content">
						<p>The Cloud carries the message of automation to system architecture. The ability to spin up VMs on demand and take them down when no longer needed as per the applications&#8217; real-time requirements and metrics is the key for making the system truely elastic, scalable and self-healing. When using external IaaS providers, this also saves the hassle of managing the IT aspects of the on-demand infrastructure.</p>
<p>But with potential of automation comes the challenge of integrating with the cloud provider (or providers) and automating the management of the VMs, dealing with DevOps aspects such as accessing the VM, transferring contents to it, performing installations, running and stopping processes on it, coordinating between the services, etc. On this post I&#8217;d like to share with you some of my experience integrating with IaaS cloud providers, as part of my work with customers using the open source <a href="http://www.cloudifysource.org" title="cloudifysource.org">Cloudify</a> PaaS product. Cloudify provides out-of-the-box integration with many popular cloud providers, such as&nbsp;<a href="http://aws.amazon.com/" oncontextmenu="mugicRightClick(this);" onclick="return mugicPopWin(this,event);">Amazon EC2</a>&nbsp;and&nbsp;<a href="http://www.rackspace.com/">The Rackspace Cloud</a>,&nbsp;as well as integration with the popular&nbsp;<a href="http://www.jclouds.org/">jclouds</a>&nbsp;framework and <a href="http://openstack.org/" title="openstack.org">OpenStack</a>&nbsp;open&nbsp;standard. But when encountering an emerging cloud provider or standard, you just need to pull up your sleeves and write your own integration. As a best practice, I use Java for the cloud integration and try to leverage on well-proven and community-backed open source projects wherever possible. Let&#8217;s see how I did it.</p>
<p>First we need to integrate with the IaaS <span class="caps">API</span> to enable automation of resource allocation and deallocation.&nbsp;The main integration point is called a <a href="http://www.cloudifysource.org/guide/clouddrivers/cloud_driver.html">Cloud Driver</a>, which is basically a Java class that adheres to a <a href="http://www.cloudifysource.org/guide/clouddrivers/developing_custom_clouddriver.html" title="Developing a custom cloud driver">simple <span class="caps">API</span></a> for accessing the cloud for resources. Various clouds expose various APIs for accessing them. Programmatic access is native and easy to implement from the Cloud Driver code. <span class="caps">REST</span> <span class="caps">API</span> is also quite popular, in which cases I found the <a href="http://jersey.java.net/" title="Apache Jersey">Apache Jersey</a> client open source library quite convenient for implementing a <a href="http://www.mkyong.com/webservices/jax-rs/restful-java-client-with-jersey-client/">RESTful client</a>. Jersey is based on <a href="http://docs.oracle.com/javaee/6/tutorial/doc/giepu.html" title="Building RESTful Web Services with JAX-RS"><span class="caps">JAX</span>-RS</a> Java community standard, and offers easy handling of various flavors of calls, cookie handling, policy governance, etc.&nbsp;Cloudify offers a convenient&nbsp;<a href="https://gist.github.com/1770098" title="DSL example">Groovy-based <span class="caps">DSL</span></a>&nbsp;that enables you to configure the cloud provider&#8217;s parameters and properties in a declarative and easy-to-read manner, and takes care of the wiring for you. When writing your custom cloud driver you should make sure to sample and use the values from the Groovy (you can add custom properties as needed), so after the cloud driver is ready for a given cloud provider, you can use it in any deployment by simply setting the configuration.&nbsp;I used the source code of the cloud drivers on CloudifySource public&nbsp;<a href="https://github.com/CloudifySource/cloudify">GitHub repository</a>, as a great source of reference for writing my cloud driver.</p>
<p>The next DevOps aspect of the integration is accessing the VMs and managing them. Linux/Unix VMs are accessed via <span class="caps">SSH</span> for executing scripts, and uses <span class="caps">SFTP</span> for file transfer. For generic file transfer layer there&#8217;s the&nbsp;<a href="http://commons.apache.org/vfs/" title="Apache VFS">Apache Commons VFS2</a> (Virtual File System), which offers a&nbsp;uniform view of the files from various different sources (local FS, remote over <span class="caps">HTTP</span>, etc.). For remote command execution over <span class="caps">SSH</span> there&#8217;s <a href="http://www.jcraft.com/jsch/">JCraft&#8217;s JSch</a> library, providing a Java implementation of SSH2. Authentication also needs to be addressed with the above. Luckily, many of these things that we used to do manually as part of DevOps integration are new being taken care of by Cloudify. Indeed, there&#8217;s still much integration headache with ports not opened, passwords incorrect etc. which takes up most of the time, and more logs are definitely required in Cloudify to figure things out and troubleshoot. What I did is I simply forked the <a href="https://github.com/CloudifySource/cloudify">open source project from GitHub</a> and debugged right through the code, which has the side benefit of &nbsp;fixing and improving the project on the fly and contributing back to the community. I should mention that although the environments I integrated with where Linux-based, Cloudify also provides support for Windows-based systems (based on WinRM, <span class="caps">CIFS</span> and PowerShell).</p>
<p>One of the coolest things added in Cloudify 2.1 that was <a href="http://www.cloudifysource.org/2012/05/01/whats_new_in_cloudify_2_1.html">launched last week</a> was the <a href="http://www.cloudifysource.org/guide/bootstrapping/bootstrapping_byon.html"><span class="caps">BYON</span> (Bring Your Own Node) driver</a>, which allows you to take your&nbsp;existing bare-metal servers and use them as managed resources for deployment by Cloudify, as if they were on-demand resources. This provides a neat answer to the <a href="http://www.infoworld.com/d/cloud-computing/going-native-the-move-bare-metal-cloud-services-192507" title="InfoWorld: Going native: The move to bare-metal cloud services">growing demand for bare-metal cloud services</a>. I&#8217;m still waiting for the opportunity to give this one a wet run with a customer in the field&#8230;</p>
<p>All in all, it turned out to be a straight-forward task to integrate with a new cloud provider. Just make sure you have a stable environment and a test code on how to consume the APIs, and use the existing examples as reference, and you&#8217;re good to go.</p>
                    <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'cloudifysource'; // required: replace example with your forum shortname
    var disqus_identifier = '/2012/05/13/cloud_integration_and_devops_automation.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

                </div>

                <div class="clear"></div>
            </div>
        </div>

        <!--Start pagination -->

        <div class="clear"></div>

        <!--Start Footer -->

        <div class="footer">
    <!--<ul class="footerLeftMenu">
        <li class="footerli"><a href="#">About GigaSpaces</a></li>
        <li class="footerli"><a href="#">Contact Us</a></li>
    </ul> -->
    <ul class="footerRightMenu">
        <li class="footerli">Copyright Â© 2012 GigaSpaces. All rights reserved.</li>
        <li class="footerli"><a href="/about_us">About Us</a></li>
        <li class="footerli">|</li>
        <li class="footerli"><a href="/terms_of_use">Terms of Use</a></li>
        <li class="footerli">|</li>
        <li class="footerli"> <a href="/privacy_policy">Privacy Policy</a></li>
    </ul> 
    <ul class="footerSocialMenu">
        <li class="footerFb"><a href="https://www.facebook.com/GigaSpaces?sk=app_201742856511228"></a></li>
        <li class="footerRss"><a href="/atom.xml"></a></li>
        <!--<li class="footerMell"><a href="#"></a></li>-->
        <li class="footerTwitt"><a href="http://www.twitter.com/cloudifysource"></a></li>
        <li class="footerYt"><a href="http://www.youtube.com/cloudifysource"></a></li>
    </ul>
</div>

<script type="text/javascript">
window.AIConfig = {};
window.AIConfig.mailTextField = 'EMAIL';
window.AIConfig.accountId='cloudifysource';
document.write(unescape("%3Cscript src='http://test.activeinsight.net/trw.js' type='text/javascript'%3E%3C/script%3E"));
</script>

    </div>
    <!--End site wrapper -->


</div>
<!--End site bg top wrapper -->
</body>
</html>
