---
layout: default
title: Network
category: Developing Cloud Drivers
publish: true
abstract: Cloudify Network Support
pageord: 900
---
h3. Overview

Cloudify 2.7 provides network abstraction to allow applications to define and create their network topology as part
of the application deployment.

Currently, Cloudify offers network implementation for OpenStack using the Neutron API and the
corresponding attributes in Nova API.

Users who wish to have custom implementations can refer to the custom Cloud Driver guide //link here

h3. Use cases

Cloudify supported network use cases includes:

* Dynamic Bootsrapping - Creating a Cloudify management network to which the Cloudify Managers are bind as well as Cloudify agents (using a dedicated vNIC)
this use case provides separation of management networking from application networking. In this use case the bootstrap process uses the network cloud driver to create a network and a router that binds the internal network to the external network
in order to provide internet connectivity for the REST and GUI endpoints.

* Static Bootstrapping - Binding the manager and agents to an exisitng intenral network. In this scenario the user provision the network manually and configure cloudify to use it

* Dynamic Application Network Provisioning - Cloudify creates an applicative network according to the configuration and bind the application services to this network (as well as to the management network)

* Static Application Network Binding - Cloudify binds the application VMs to pre-provisioned netwoks according to the list specified in each service compute template

h5. Support for Security Groups

In addition to the above the network Cloud Drvier provides support for Neutron Security Groups.
* Management Security Groups - The driver creates several security groups (see below) for the managers and for the agents-manager communications
* Application Services Security Groups - The recipe DSL allows the user to define access rules per service. Cloudify Cloud Driver use these rules to create security groups and bind the service VMs to these groups


Scope of support:
Assign multiple virtual networks to VMs using multiple vNIC  - networks can be predefined or provisioned by Cloudify
Security Group definitions in recipe: Create security groups and bind VMs to these groups
Network templates: create networks for applications and services using templates in the Cloud Driver configuration
Create, terminate bind and unbind floating IPs using API from the recipe


Bootstrapping Cloudify with Management network for managers and agent - Bootstrap process binds to
 management network and subnet predefined with a router to link the management subnet to the external network (REST & GUI endpoints).
Installing application with networks, security groups and floating Ips.  Cloud Driver binds to:
application networks and subnets predefined
 security groups which are predefined
If floating IP API is to be used - user must have the network bind to an external network via router


Bootstrapping Cloudify with Management network for managers and agent - Bootstrap process creates
management network and subnet.
A router to link the management subnet to the external network (REST & GUI endpoints).
Installing application with networks, security groups and floating Ips.  Cloud Driver creates:
application networks and subnets on based on user's configuration.
Security groups as defined in the recipes
 ports are created when VMs are attached to a subnet.




h3. Assigning networks to VMs

<script src="https://gist.github.com/tamirko/8037800.js"></script>

h3. Network Templates in Cloud Driver

<script src="https://gist.github.com/tamirko/8036987.js"></script>

h3. Security Group Rule Types

There are the levels of rules (aka types):
<script src="https://gist.github.com/tamirko/8037206.js"></script>

h3. Security Group Definitions in Recipe

Here's a snippet :
<script src="https://gist.github.com/tamirko/b5e044fe4e8e2b572c61.js"></script>

<img src="../../images/clouddrivers/mng_network_topology.jpg"/>


